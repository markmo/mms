# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Home page
GET     /                               @controllers.Application.index

# Catalogs
GET     /datasources/:id/catalogs       @controllers.Catalogs.findCatalogsByDatasourceId(id: Long)
GET     /catalogs                       @controllers.Catalogs.index

# Columns
GET     /columns                        @controllers.Columns.index
GET     /datasets/:id/columns           @controllers.Columns.findColumnsByDatasetId(id: Long)

# Datasets
GET     /datasets                       controllers.Datasets.index
GET     /namespaces/:id/datasets        @controllers.Datasets.findDatasetsByNamespaceId(id: Long)
GET     /datasets/:id/stats             controllers.Datasets.stats(id: Long)
POST    /datasets                       controllers.Datasets.create
PUT     /datasets/:id                   controllers.Datasets.update(id: Long)
POST    /datasets/:id/delete            controllers.Datasets.delete(id: Long)

# Data Sources
GET     /datasources                    @controllers.Datasources.index
POST    /datasources                    controllers.Datasources.create
PUT     /datasources/:id                controllers.Datasources.update(id: Long)

POST    /import-datasource              @controllers.Application.importDatasource

# Filter Types
GET     /filter-types                   @controllers.FilterTypes.index

# Namespaces
GET     /catalogs/:id/namespaces        @controllers.Namespaces.findNamespacesByCatalogId(id: Long)
GET     /namespaces                     @controllers.Namespaces.index

# Posts
GET     /posts/:entityType/:id          @controllers.Posts.posts(entityType: String, id: Long)
POST    /posts/:entityType/:id          @controllers.Posts.create(entityType: String, id: Long)

# Revisions
GET     /revisions/:id                  @controllers.Application.getRevision(id: java.lang.Integer)
GET     /revisions                      @controllers.Application.revisions
GET     /show-revisions                 @controllers.Application.showRevisions

# important! the more specific route must come before the general
GET     /columns/:id/revisions/:revisionId @controllers.Columns.getRevision(id: Long, revisionId: java.lang.Integer)
GET     /columns/:id/revisions          @controllers.Columns.revisions(id: Long)

#GET     /room                           @controllers.Posts.chatRoom(username: String ?= null)
GET     /room/chat                      @controllers.Posts.chat(username)

GET     /sandboxes                      @controllers.Sandboxes.index
GET     /sandboxes/:id/namespaces       @controllers.Namespaces.findNamespacesBySandboxId(id: Long)
POST    /sandboxes                      @controllers.Sandboxes.create
PUT     /sandboxes/:id                  @controllers.Sandboxes.update(id: Long)

GET     /search/:terms                  @controllers.Search.index(terms: String)

GET     /session                        @controllers.Application.clientSession

GET     /themes/:theme                  @controllers.Application.theme(theme: String)

GET     /files/deleteall                @controllers.Files.deleteAll
GET     /files                          @controllers.Files.index(node ?= null)
GET     /uploads/:category/:id          @controllers.Files.list(category: String, id: Long)
GET     /uploads                        @controllers.Files.listAll
POST    /upload/metadata                @controllers.Files.uploadMetadata
PUT     /upload/read                    @controllers.Files.readFile
PUT     /upload/:id                     @controllers.Files.uploadFile(id: Long)
DELETE  /upload/:id                     @controllers.Files.deleteFile(id: Long)


## Business Glossary Module

# Access Privileges
PUT     /access-privileges/patch        controllers.BusinessAccess.patchUpdate
PUT     /access-privileges              controllers.BusinessAccess.update
DELETE  /access-privileges              controllers.BusinessAccess.delete

# Business Applications
GET     /applications                   @controllers.BusinessApplications.index
POST    /applications                   controllers.BusinessApplications.create
PUT     /applications/:id               controllers.BusinessApplications.update(id: Long)
DELETE  /applications/:id               controllers.BusinessApplications.delete(id: Long)

# Domains
GET     /domains                        @controllers.Domains.index
POST    /domains                        controllers.Domains.create
PUT     /domains/:id                    controllers.Domains.update(id: Long)

# Glossary
GET     /glossary                       @controllers.Application.glossary

# People
GET     /people                         controllers.People.index
POST    /people                         controllers.People.create
PUT     /people/:id                     controllers.People.update(id: Long)
DELETE  /people                         controllers.People.delete

# Responsibilities
PUT     /responsibilities/patch         controllers.Responsibilities.patchUpdate
PUT     /responsibilities               controllers.Responsibilities.update
DELETE  /responsibilities               controllers.Responsibilities.delete

# Security Classifications
GET     /security-classifications       controllers.SecurityClassifications.index

# Settings
GET     /settings                       controllers.Settings.show
GET     /settings/edit                  controllers.Settings.edit
POST    /settings/:id                   controllers.Settings.update(id: Long)

# Stakeholder Roles
GET     /stakeholder-roles              controllers.StakeholderRoles.index
POST    /stakeholder-roles              controllers.StakeholderRoles.create
PUT     /stakeholder-roles/:id          controllers.StakeholderRoles.update(id: Long)
DELETE  /stakeholder-roles              controllers.StakeholderRoles.delete

# Tags
GET     /tags                           controllers.Tags.index

# Terms
GET     /terms                          @controllers.BusinessTerms.index
POST    /terms                          controllers.BusinessTerms.create
PUT     /terms/:id                      controllers.BusinessTerms.update(id: Long)
GET     /associations/:id               @controllers.BusinessTerms.associations(id: Long)

# User Groups
GET     /usergroups                     controllers.UserGroups.index
POST    /usergroups                     controllers.UserGroups.create
PUT     /usergroups/:id                 controllers.UserGroups.update(id: Long)
DELETE  /usergroups                     controllers.UserGroups.delete

# Vendors
GET     /vendors                        @controllers.Vendors.index
POST    /vendors                        controllers.Vendors.create
PUT     /vendors/:id                    controllers.Vendors.update(id: Long)
DELETE  /vendors                        controllers.Vendors.delete


## Authentication and Account Management Module

GET     /account/:id/edit               controllers.Account.edit(id: Long)
POST    /accounts                       controllers.Account.update()

GET     /accounts/add                   controllers.Account.link

GET     /accounts/link                  controllers.Account.askLink
POST    /accounts/link                  controllers.Account.doLink

GET     /accounts/merge                 controllers.Account.askMerge
POST    /accounts/merge                 controllers.Account.doMerge

GET     /accounts/exists                controllers.Signup.exists

GET     /accounts/password/change       controllers.Account.changePassword
POST    /accounts/password/change       controllers.Account.doChangePassword

GET     /accounts/password/reset/:token controllers.Signup.resetPassword(token: String)
POST    /accounts/password/reset        controllers.Signup.doResetPassword

GET     /accounts/unverified            controllers.Signup.unverified

GET     /accounts/verify/:token         controllers.Signup.verify(token: String)
GET     /accounts/verify                controllers.Account.verifyEmail

GET     /authenticate/:provider/denied  controllers.Signup.oAuthDenied(provider: String)
GET     /authenticate/:provider         com.feth.play.module.pa.controllers.Authenticate.authenticate(provider: String)

GET     /login/password/forgot          controllers.Signup.forgotPassword(email: String ?= "")
POST    /login/password/forgot          controllers.Signup.doForgotPassword

GET     /login                          @controllers.Application.login
POST    /login                          @controllers.Application.doLogin

GET     /logout                         com.feth.play.module.pa.controllers.Authenticate.logout

GET     /profile/:id                    @controllers.Users.profile(id: Long)
GET     /profile                        @controllers.Application.profile
GET     /profile.json                   @controllers.Application.profileAsJSON

GET     /restricted                     @controllers.Application.restricted

GET     /signup                         @controllers.Application.signup
POST    /signup                         @controllers.Application.doSignup


## Assets

# Map static resources from the /public folder to the /assets URL path
GET     /assets/*file                   controllers.Assets.at(path="/public", file)
#GET     /assets/javascript/routes.js    controllers.Application.jsRoutes

# Map static resources from the /public folder to the /assets URL path
#GET     /js/*file                       controllers.Assets.at(path="/public/js", file)
#GET     /css/*file                      controllers.Assets.at(path="/public/css", file)
#GET     /img/*file                      controllers.Assets.at(path="/public/img", file)
#GET     /stylesheets/*file              controllers.Assets.at(path="/public/stylesheets", file)

GET     /assets/*file                   controllers.Assets.at(path="/public", file)

#GET     /api-docs.json                  controllers.ApiHelpController.getResources
#GET     /api-docs.json/catalogs         controllers.ApiHelpController.getResource(path = "/catalogs")
#GET     /api-docs                       controllers.Application.api


## Test APIs

GET     /test                           @controllers.Tests.sniff

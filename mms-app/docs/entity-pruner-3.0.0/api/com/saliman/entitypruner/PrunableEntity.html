<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_14) on Sat Dec 10 11:42:46 MST 2011 -->
<TITLE>
PrunableEntity (Entity Pruner Javadoc)
</TITLE>

<META NAME="date" CONTENT="2011-12-10">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="PrunableEntity (Entity Pruner Javadoc)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../com/saliman/entitypruner/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/PrunableEntity.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<h3>Entiy Pruner</h3></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/saliman/entitypruner/Options.html" title="interface in com.saliman.entitypruner"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../com/saliman/entitypruner/PruningState.html" title="interface in com.saliman.entitypruner"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/saliman/entitypruner/PrunableEntity.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="PrunableEntity.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.saliman.entitypruner</FONT>
<BR>
Interface PrunableEntity</H2>
<HR>
<DL>
<DT><PRE>public interface <B>PrunableEntity</B></DL>
</PRE>

<P>
Classes implement this interface to mark it as being prunable by the 
 <A HREF="../../../com/saliman/entitypruner/EntityPruner.html" title="interface in com.saliman.entitypruner"><CODE>EntityPruner</CODE></A>.  Entities must be pruned before they can be Serialized
 or Marshalled for sending to a remote client.
 <p> 
 Implementing this interface means that entities will implement
 accessors for &quot;prunedState&quot; and &quot;fieldIdMap&quot; 
 attributes, as well as a method to determine if the Entity is persistent or
 not.
 <p>
 The pruningState attribute is used by the <A HREF="../../../com/saliman/entitypruner/EntityPruner.html" title="interface in com.saliman.entitypruner"><CODE>EntityPruner</CODE></A> to determine
 if a given entity has already been pruned, and how. The default value of 
 the pruned attribute <b>needs</b> to be <code>UNPRUNED_COMPLETE</code>, so
 that JPA entities are created correctly on the server during a query. If an
 RMI client needs to create an entity in the client, it should be OK to 
 leave it null, since an incoming new entity will look the same to JPA as 
 one that was created inside server code (as far as nulls and ordinary 
 Collections are concerned).  Server code that tries to update an entity
 should probably look at the prunedState attribute and only allow an update
 if the state is <code>UNPRUNED_COMPLETE</code>
 <p>
 The fieldIdMap attribute is used by the <A HREF="../../../com/saliman/entitypruner/EntityPruner.html" title="interface in com.saliman.entitypruner"><CODE>EntityPruner</CODE></A> to store
 the field name and ID of proxied parent entities when the parent entity 
 hasn't been loaded yet.
 <p>
 A class wishing to be prunable must have as it's ID a class that has a 
 <code>toString</code> method and a constructor that takes creates an 
 instance from that string. All Java number classes currently fit that
 description.
 <p> 
 The reason IDs need to be convertible to Strings has to do with the 
 fieldIdMap.  Different languages treat objects (particularly numbers)
 differently and that causes problems when we cross language boundaries.  
 For example, if a Java entity has a Long id of 987654321, and if the object 
 is sent to ActionScript, the number will come back as a double with the 
 value "9.87654321E8", which the Long constructor has a problem with.  The 
 problem gets worse as numbers get very large.  An 18 digit Long will lose
 precision during the round trip, with obvious bad side effects.  All the 
 Java number classes have constructors that take a String.  If the ID needs 
 to be something else, it is up to the developer to make sure that class 
 can convert back and forth to a String.  To use something like a date, 
 the class would need to be sub-classed to be used. (but you don't want to
 use a date as the primary key, do you?)
 <p>
 It is also strongly recommended, though not required, that Entities also
 implement a <code>toString()</code> method to make the log entries more
 meaningful.
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Steven C. Saliman</DD>
<DT><B>See Also:</B><DD><A HREF="../../../com/saliman/entitypruner/EntityPruner.html" title="interface in com.saliman.entitypruner"><CODE>for more details about pruning entities.</CODE></A></DL>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map&lt;java.lang.String,java.lang.String&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/saliman/entitypruner/PrunableEntity.html#getFieldIdMap()">getFieldIdMap</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/saliman/entitypruner/PrunableEntity.html#getPruningState()">getPruningState</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/saliman/entitypruner/PrunableEntity.html#isPersistent()">isPersistent</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Determine if the Entity has been saved to the database or not.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/saliman/entitypruner/PrunableEntity.html#setFieldIdMap(java.util.Map)">setFieldIdMap</A></B>(java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;fieldIdMap)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/saliman/entitypruner/PrunableEntity.html#setPruningState(java.lang.String)">setPruningState</A></B>(java.lang.String&nbsp;pruningState)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getPruningState()"><!-- --></A><H3>
getPruningState</H3>
<PRE>
java.lang.String <B>getPruningState</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>The current pruning state of the entity.  The EntityPruner
 considers a null state to be UNPRUNED_PARTIAL.</DL>
</DD>
</DL>
<HR>

<A NAME="setPruningState(java.lang.String)"><!-- --></A><H3>
setPruningState</H3>
<PRE>
void <B>setPruningState</B>(java.lang.String&nbsp;pruningState)</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pruningState</CODE> - The state to set</DL>
</DD>
</DL>
<HR>

<A NAME="getFieldIdMap()"><!-- --></A><H3>
getFieldIdMap</H3>
<PRE>
java.util.Map&lt;java.lang.String,java.lang.String&gt; <B>getFieldIdMap</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>the map of field to ID mappings.</DL>
</DD>
</DL>
<HR>

<A NAME="setFieldIdMap(java.util.Map)"><!-- --></A><H3>
setFieldIdMap</H3>
<PRE>
void <B>setFieldIdMap</B>(java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;fieldIdMap)</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fieldIdMap</CODE> - the map of field to ID mappings to use.</DL>
</DD>
</DL>
<HR>

<A NAME="isPersistent()"><!-- --></A><H3>
isPersistent</H3>
<PRE>
boolean <B>isPersistent</B>()</PRE>
<DL>
<DD>Determine if the Entity has been saved to the database or not.  The
 Entity Pruner needs to know this in order to know whether or not to 
 create uninitialized proxy objects.  In most cases, it is enough to
 return whether or not the primary key is null.  This approach can cause 
 a problem when the physical key and the business key is the same, in 
 which case the Entity will need some other way to make the determination.
<P>
<DD><DL>

<DT><B>Returns:</B><DD><code>true</code> if this Entity represents an entity that 
 has been persisted to the database.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../com/saliman/entitypruner/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/PrunableEntity.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<h3>Entiy Pruner</h3></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/saliman/entitypruner/Options.html" title="interface in com.saliman.entitypruner"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../com/saliman/entitypruner/PruningState.html" title="interface in com.saliman.entitypruner"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/saliman/entitypruner/PrunableEntity.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="PrunableEntity.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<i>Copyright &#169; 2008 Steven C. Saliman All Rights Reserved.</i>
</BODY>
</HTML>
